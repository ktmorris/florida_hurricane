---
title: "Hurricane Michael and Floridian Turnout"
subtitle: ""
thanks: The author thanks Many People for their comments on this project. All errors are my responsibility.
author: Kevin Morris^[Researcher, Brennan Center for Justice at NYU School of Law, 120 Broadway Ste 1750, New York, NY 10271 (kevin.morris@nyu.edu)]
institute: "Brennan Center for Justice"
date: "`r format(Sys.time(), '%B %d, %Y')`"
output:
  bookdown::pdf_document2:
    toc: no
    fig_caption: yes
    latex_engine: xelatex
    keep_tex: true
bibliography: "hurricane_michael.bib"
link-citations: yes
fontsize: 12pt
header-includes:
    - \usepackage{rotating}
    - \usepackage{setspace}\doublespacing
    - \newcommand{\beginsupplement}{\setcounter{table}{0}  \renewcommand{\thetable}{A\arabic{table}} \setcounter{figure}{0} \renewcommand{\thefigure}{A\arabic{figure}}}
abstract: |
  This is an abstract.  
---
\pagenumbering{gobble}
\pagebreak
```{r setup, echo = F, message = F, warning = F}
knitr::opts_knit$set(root.dir = "..", dev = "cairo_pdf")
library(systemfit)
library(AER)
library(sandwich)
library(lmtest)
library(scales)
library(tidyverse)
library(extrafont)
library(kableExtra)
library(data.table)
library(stargazer)
loadfonts()
```
\pagenumbering{arabic}
# Research Design and Expectations {-}

## Individual-Level Effects {-}
Based on prior research, we expect that turnout was substantially depressed in the treated counties in 2018. This depressed turnout, however, could have been caused by multiple mechanisms. On the one hand, we know that Hurricane Michael caused substantial destruction; as discussed in the introduction to this paper, residents lost their lives, flooding was widespread, and the hurricane caused billions of dollars of property damage. Would-be voters were now faced with myriad disruptions to their daily lives; it is likely that the direct effects of the weather, therefore, reduced turnout substantially. As professor emeritus Robert Montjoy told NPR in the aftermath of the storm, "Whether casting a ballot becomes a higher priority than cleaning out the basement, visiting someone in the hospital, or all the other demands...You certainly expect a lower turnout for those reasons" [@Parks2018].

## Administrative Effects {-}
The hurricane also caused problems for county election administrators, as the reporting around the Governor's executive order makes clear.^[Executive Order 18-283 can be found here: https://www.flgov.com/wp-content/uploads/2018/10/SLT-BIZHUB18101809500.pdf. In the event that this link no longer works, it is on file with the authors.] Polling places were destroyed; some mail voters were residing in locations other than their registered addresses; would-be poll workers were unavailable. These factors could have increased the costs of voting even for residents who were not directly impacted by the hurricane, and increased the costs of voting even more for individuals who were directly impacted. Absent mitigation, the administrative effects of Hurricane Michael likely would have decreased turnout above-and-beyond the individual effects of the storm.

Executive Order 18-283 sought to offset the administrative barriers to voting by allowing county election administrators to flexibly respond to the damage wrought by the storm. Specifically, Executive Order 18-283 allowed administrators to add early voting locations; begin early voting 15 days before the general election, and continue until the day of the election; to accept vote-by-mail requests to addresses other than a voter's registered address; to send vote-by-mail ballots by forwardable mail; to deliver vote-by-mail ballots to electors or electors' immediate family members on election day without an affidavit; to relocate or consolidate polling places; and required poll watchers to be registered by the second Friday before the general election.

This paper sets out to answer two questions: what was the total depressive effect of the hurricane? And did Executive Order 18-283 effectively offset the depressive administrative effects?

## Estimating the Net Effects of the Hurricane {-}
We begin by testing the net effect of each of these treatments on individual-level turnout. Our central identification strategy involves the use of difference-in-differences models. By comparing historical and 2018 turnout for voters in the counties hit by the storm to historical and 2018 turnout of voters elsewhere in the state, we can estimate the effect of the storm on turnout. To ensure a high-quality difference-in-differences specification, we do not include all untreated voters in our control group; rather, we match each treated voter with five untreated voters along a battery of individual- and neighborhood-level characteristics. Untreated voters who do not serve as matches are excluded from our models. Although it may seem counterintuitive to exclude data from our models, this matching procedure substantially improves the parallel trends assumptions necessary for a rigorous difference-in-differences analysis.

This design allows us to test our first hypothesis:

**Hypothesis 1:** Turnout in the eight treated counties was lower in 2018 due to the combined effects of the hurricane, county-level responses, and the executive order.

## Testing Adminstrative Effects {-}
To estimate the administrative effect on turnout, we must control for the individual-level effects of the storm. To do so, we leverage the somewhat arbitrary borders of counties in the Florida Panhandle. There is no reason to believe that the effects of a hurricane would change dramatically along county borders. We assume, therefore, that voters who lived nearby one another, but on either side of a county border, faced the same weather issues during the 2018 election. Any difference in turnout observed between groups that live just over a county border from one another, therefore, can be attributed to the administration of the election in their respective county.

To disaggregate the individual and administrative effects of Hurricane Michael, we employ a double-matched triple-differences (or difference-in-difference-in-differences) specification.

We begin by identifying all residents of treated counties that lived in voter precincts bordering an untreated county. These individuals are our "treated voters." After identifying the treated voters we perform the first match in which these treated voters are matched to one voter in a neighboring precinct but a different county. As discussed above, we assume that the only difference between each member of each pair is the administrative context in which they lived because they lived in close geographic proximity to one another. These matches form our set of "primary control voters."

Each treated and primary control voter is subsequently matched to five voters elsewhere in the state --- that is to say, voters who are neither in the treated counties nor in the counties directly surrounding the treated counties. This exercise is the second match, and the matches our our "secondary control voters."

At this point, we have four distinct groups of voters: treated voters; primary control voters; secondary control voters who serve as controls for the treated voters; and secondary control voters who serve as controls for the primary control voters. While the treated, primary control, and full set of secondary control voters are mutually exclusive, secondary control voters are allowed to serve as controls for each of the other two groups. Indeed, because the primary control voters have been selected to resemble the treated voters, overlaps among these groups is highly likely.

Having constructed our pool of voters, we run a triple-differences model. This triple-differences model is, in effect, two simultaneous difference-in-differences models. The model begins^[In reality, the model estimates each of the following steps simultaneously; for narrative purposes, we describe the effects of the model in a sequential fashion.] by estimating whether 2018 was associated with depressed turnout for our primary control voters vis-à-vis their (matched, secondary) controls and their own vote history. Because these primary control voters lived in counties not covered by the executive order, we assume that they faced no administrative effects from the storm; any observed difference in turnout, therefore, can be attributed to the individual-level effects of the storm.

The model then estimates a second difference-in-differences model, asking whether 2018 was associated with depressed turnout for treated voters vis-à-vis their (matched, secondary) controls and their own vote history. This model estimates the net individual- and administrative-level effects faced by treated voters in 2018.

The model finally the difference in the treatment associated with 2018 for the treated and primary control voters. Because the only difference between treated and primary control voters is the administrative district in which they lived, this estimated difference is interpreted as the adminstrative effect on turnout in the treated counties.

The double-matched triple-differences model allows us to test our second hypothesis:

**Hypothesis 2:** After controlling for weather, we expect that turnout in the treated counties was slightly lower than in untreated counties. We expect that Executive Order 18-283 was largely, but not entirely, successful at offsetting the depressive administrative effects of Hurricane Michael.

# Results {-}

## Overall Turnout Effects {-}

We begin by matching each registered voter in the eight treated counties to five untreated voters elsewhere in the state using a genetic matching algorithm [@Sekhon2011].^[Due to computing constraints, the matching weights were constructed using a one percent random sample stratified by treatment status.] The individual-level characteristics come directly from the registered voter file. The two neighborhood-level characteristics included --- median income and share of the population with some collegiate education --- are estimated at the block group level, and come from the ACS 5-year estimates ending with 2018. Ties are not broken, which means that some treated voters are assigned more than five control voters; the weights used in the regressions below are adjusted accordingly.

Although the treated counties were the at the center of the storm, nearby counties might have also been negatively impacted by the storm. Therefore, voters who live in the counties that border the treated counties are excluded. These include Walton, Holmes, Wakulla, and Leon Counties.

Table \ref{tab:full-bal} demonstrates the results of this matching procedure. As Table \ref{tab:full-bal} makes clear, voters in the affected counties were considerably more likely to be white and identify as Republicans, and live in lower-income neighborhoods, than voters in the rest of the state. The post-match control group, however, looks substantially similar to the treated voters.
\begin{singlespace}
```{r balance-tab-full, echo = F}
t <- readRDS("./temp/balance_table_full.rds")
j <- knitr::kable(t, booktabs = T, caption = "(\\#tab:full-bal) Balance Table for Statewide Matching", linesep = "") %>% 
  add_header_above(c(" " = 1, "Means: Unmatched Data" = 2, "Means: Matched Data" = 2, "Percent Improvement" = 4), align = "c") %>% 
  kable_styling(latex_options = c("scale_down", "HOLD_position"))
j
```
\end{singlespace}
After matching the individual voters, we can construct historical turnout estimates for the treated and control voters. Figure \ref{fig:full-to} plots the turnout in the past few elections for our treated and control voters. As Figure \ref{fig:full-to} makes clear, the gap between treated and control groups was constant from 2010 -- 2016. In 2018 however --- the year when Hurricane Michael wreaked havoc on voters in the treatment group --- the gap widens substantially. Although turnout among all voters was higher in 2018 than in 2014, turnout rose by substantially less for the treated voters.

```{r full-to-chunk, echo = FALSE, message = F, warning = F, fig.width = 7.5, fig.height = 5, fig.cap = "\\label{fig:full-to}General Election Turnout for Treated and Control Voters, 2010 -- 2018", fig.pos = "H", fig.align = "center"}
p <- readRDS("./temp/full_to_fig.rds")
p
```

Table \ref{tab:full-dind} formalizes Figure \ref{fig:full-to} into a differences-in-differences regression specification. I employ a logistic model, as the dependent variable --- turnout --- is binary. The dependent variable takes the value 1 if a voter cast a ballot in a given year, and 0 if she did not. Model 1 includes only three variables in addition to the constant. *D(Treated)* measures the gap between treated and control voters in the 2010 -- 2016 period. *D(2018)* measures the increase in turnout observed among control voters in 2018, while *D(Treated) × D(2018)* measures whether turnout in 2018 departed further or less from the baseline for the treated voters than the control voters. Model 2 includes the same variables, but also includes the characteristics on which the voters were matched. Model 3, finally, also includes measures for congressional district competitiveness. Because this variable is "downstream" of treatment --- that is to say, the effect of the hurricane could have impacted the competitiveness of certain races --- it is not included in the first two models. It should be noted that each of the treated voters lived in uncontested congressional districts. Robust standard errors are clustered at the level of the match [@Abadie2019].

\begin{singlespace}
```{r full-dind-chunk, echo = F, results = "hide", message = F, warning = F}
load("./temp/full_dind_reg.rdata")

stargazer(m1, m2, m3,
          header = F,
          type = "latex", notes.align = "l",
          covariate.labels = c("D(Treated)", "D(2018)", "D(Treated) $\\times$ D(2018)"),
          dep.var.labels = c("Turnout"),
          title = "\\label{tab:full-dind} Turnout, 2010 --- 2018",
          table.placement = "H",
          omit.stat = c("f", "ser"),
          omit = c("white", "black", "latino", "asian", "female", "male",
                   "dem", "rep", "age", "median_income", "some_college",
                   "diff"),
          table.layout = "-cmd#-t-a-s-n",
          out = "./temp/test.tex",
          out.header = F,
          notes = "TO REPLACE",
          se = list(coef(summary(m1, cluster = c("group")))[, 2],
                    coef(summary(m2, cluster = c("group")))[, 2],
                    coef(summary(m3, cluster = c("group")))[, 2]),
          add.lines=list(c("Includes Other Matched Covariates" , "", "X", "X"),
                         c("Includes control for CD competitiveness", "", "", "X")))

j <- fread("./temp/test.tex", header = F, sep = "+")

note.latex <- "\\multicolumn{4}{l}{\\scriptsize{\\parbox{.5\\linewidth}{\\vspace{2pt}$^{***}p<0.01$, $^{**}p<0.05$, $^*p<0.1$. \\\\Robust standard errors (clustered at level of match) in parentheses.}}}"

j <- j %>% 
  mutate(n = row_number(),
         V1 = ifelse(grepl("TO REPLACE", V1), note.latex, V1),
         V1 = ifelse(grepl("\\\\#tab", V1), gsub("\\\\#", "", V1), V1)) %>% 
  filter(!grepl("Note:", V1))


j <- j %>% 
  mutate(V1 = gsub("dollarsign", "\\\\$", V1)) %>% 
  arrange(n) %>% 
  select(-n)

write.table(j, "./temp/dind_full.tex", quote = F, col.names = F,
            row.names = F)
```
\input{"../temp/dind_full.tex"}
\end{singlespace}

Exponentiating the coefficients in Table \ref{tab:full-dind} indicates that Hurricane Michael, net of any county- and state-level responses, reduced turnout by between `r round(1 - exp(-0.333), digits = 3) * 100` and `r round(1 - exp(-0.390), digits = 3) * 100` percentage points.

There was substantial differences in the depressed turnout in the different counties. Turnout in Bay, Calhoun, and Jackson Counties, for instance, was between 60 and 70 percent of what it would have been absent the hurricane; counterintuitively, the treatment effect in Franklin County is associated with a 20 to 23 percentage point increase in turnout. Figure \ref{fig:county-effects} plots the treatment effect for each county.

```{r county-effect-chunk, echo = FALSE, message = F, warning = F, fig.width = 7.5, fig.height = 5, fig.cap = "\\label{fig:county-effects}Treatment Effect by Treated County", fig.pos = "H", fig.align = "center"}
p <- readRDS("./temp/county_estimates.rds")
p
```

## Identifying Adminstrative Effects {-}

As discussed above, our primary strategy for isolating the administrative effects of the hurricane on turnout involves leveraging random assignment around county borders in the Florida panhandle in a double-matched triple-differences specification. We begin by identifying all voter precincts in "treated" counties that border voter precincts in "untreated" counties. Figure \ref{fig:map} shows the border precincts in treated and untreated counties, as well as the precincts that do not fall along the border of a county with a different treatment status. Border precincts in treated counties are in the darkest shade of gray; border precincts in untreated counties are slightly lighter; the precincts that are not used for this analysis are in the lightest shade. Precinct borders are drawn in white, while county borders are drawn in black. Because Gulf and Calhoun Counties are entirely surrounded by other treated counties, no precincts from these counties are used in this analysis.

```{r map-chunk, echo = FALSE, message = F, warning = F, fig.width = 7.5, fig.height = 5, fig.cap = "\\label{fig:map}Treated, Control, and Discarded Precincts in the Treated Region", fig.pos = "H", fig.align = "center"}
p2 <- readRDS("./temp/treated_control_precincts_map.rds")
print(p2)
```

Each voter in a treated, border precinct is matched with one voter in a neighboring precinct in an untreated county, once again using the genetic matching algorithm developed by @Sekhon2011. These matches serve as our primary control voters. Ties are not broken, which means that some treated voters are assigned multiple primary control voters; the weights used in the regressions below are adjusted accordingly.

In some cases, precincts on either side of the border are in different congressional districts. This would pose a problem if these races were contested thanks to the potentially mobilizing effects of house races, but every precinct included was located entirely in an uncontested congressional district.^[One precinct pair, however, is excluded: the Liberty County 5th Precinct was located in a congressional district that went uncontested by Democrats, but borders Precinct 2365 in Leon County, located in a district uncontested by a Republican. All other cross-county precinct pairs faced the same congressional race landscape.] As before, we match on individual- and neighborhood-level characteristics. Table \ref{tab:balance-ll} presents the results of this matching exercise.

\begin{singlespace}
```{r balance-tab-ll, echo = F}
t <- readRDS("./temp/balance_table.rds")
j <- knitr::kable(t, booktabs = T, caption = "(\\#tab:balance-ll) Balance Table for Border Precinct Matching", linesep = "") %>% 
  add_header_above(c(" " = 1, "Means: Unmatched Data" = 2, "Means: Matched Data" = 2, "Percent Improvement" = 4), align = "c") %>% 
  kable_styling(latex_options = c("scale_down", "HOLD_position"))
j
```
\end{singlespace}
Although the matching exercise does not improve the neighborhood-level characteristics, each of the individual-level characteristics are much improved. The lack of balance on the neighborhood-level characteristics does not appear to cause us to violate the parallel trends assumption; as Figure \ref{fig:ll-to} makes clear, the gap between treated and primary control voters in the 2010 -- 2016 period remains constant.

```{r ll-to-chunk, echo = FALSE, message = F, warning = F, fig.width = 7.5, fig.height = 5, fig.cap = "\\label{fig:ll-to}General Election Turnout for Border Precinct Matches, 2010 -- 2018", fig.pos = "H", fig.align = "center"}
p <- readRDS("./temp/ll_to.rds")
p
```

Once our set of treated and primary control voters has been identified, each of these voters is matched with five other voters that lived in neither the treated nor the immediately surrounding counties. For ease of notation, the combined set of treated and primary control voters will henceforth be refered to as "Panhandle voters," while "treated" voters will distinguish Panhandle voters in treated counties from Panhandle voters in other counties.

This matching procedure follows the same steps detailed in the Overall Turnout Effects section of this paper. Table \ref{tab:balance-secondary} presents the results of the secondary match.

Do we have good balance? No one knows until Kevin makes that table

Figure \ref{fig:second-parallel} demonstrates that the parallel trends assumption holds: turnout among the secondary controls tracks neatly with the turnout of the Panhandle voters prior to 2018. Although Figure \ref{fig:second-parallel} demonstrates that turnout among Panhandle voters was depressed in 2018, it does not allow us to distinguish between the individual and administrative effects.

```{r second-parallel-chunk, echo = FALSE, message = F, warning = F, fig.width = 7.5, fig.height = 5, fig.cap = "\\label{fig:second-parallel}General Election Turnout for Panhandle and Secondary Match Voters, 2010 -- 2018", fig.pos = "H", fig.align = "center"}
p <- readRDS("./temp/plot_pan.rds")
p
```

Disentangling the administrative and individual effects of the storm requires the estimation of the triple-differences model. This model is estimated by the following equation:

$Y_{it}=b_0+b_1D(Panhandle)_{i}+b_2D(2018)_{it}+b_3D(Panhandle)_{i}\times D(2018)_{it} + b_4D(Treated)_{i} + b_5D(Treated)_{i}\times D(2018)_{it}$

where individual *i*'s turnout in year *t* is a function of the year and their location. In the equation, *b~1~D(Pandhandle)~i~* measures the historical difference between voters in the panhandle (both treated and matched, untreated individuals) and the rest of the state. *b~2~D(2018)~it~* measures the statewide change in turnout in 2018 from the baseline, while *b~3~D(Panhandle)~i~ × D(2018)~it~* tests whether turnout changed differently in 2018 in the panhandle than it did elsewhere. *b~3~D(Panhandle)~i~ × D(2018)~it~*, therefore, is our estimation of the individual-level, or weather related, effect of the hurricane. *b~4~D(Treated)~i~* measures the historical difference between treated and control observations in the border precincts, and *b~5~D(Treated)~i~ × D(2018)~it~* tests whether the change in turnout in 2018 was different for voters living in the treated counties than for their matched controls in the panhandle.

Table \ref{tab:trip-diff} presents the results of this model. Model 1 includes only the dummies discussed above, while Model 2 includes all the covariates on which the matching procedures were performed. Robust standard errors are clustered at the level of the original treated voter from which the primary and secondary controls arise.

\begin{singlespace}
```{r trip-dind-chunk, echo = F, results = "hide", message = F, warning = F}
load("./temp/triple_diff_regs.rdata")

stargazer(m1, m2,
          header = F,
          type = "latex", notes.align = "l",
          covariate.labels = c("D(Panhandle)", "D(2018)", "D(Panhandle) $\\times$ D(2018)",
                               "D(Treated)", "D(Treated) $\\times$ D(2018)"),
          dep.var.labels = c("Turnout"),
          title = "\\label{tab:full-dind} Turnout, 2010 --- 2018",
          table.placement = "H",
          omit.stat = c("f", "ser"),
          omit = c("white", "black", "latino", "asian", "female", "male",
                   "dem", "rep", "age", "median_income", "some_college",
                   "diff"),
          table.layout = "-cmd#-t-a-s-n",
          out = "./temp/test.tex",
          out.header = F,
          notes = "TO REPLACE",
          se = list(coef(summary(m1, cluster = c("group_id")))[, 2],
                    coef(summary(m2, cluster = c("group_id")))[, 2]),
          add.lines=list(c("Includes Other Matched Covariates" , "", "X")))

j <- fread("./temp/test.tex", header = F, sep = "+")

note.latex <- "\\multicolumn{3}{l}{\\scriptsize{\\parbox{.5\\linewidth}{\\vspace{2pt}$^{***}p<0.01$, $^{**}p<0.05$, $^*p<0.1$. \\\\Robust standard errors (clustered at level of treated voter) in parentheses.}}}"

j <- j %>% 
  mutate(n = row_number(),
         V1 = ifelse(grepl("TO REPLACE", V1), note.latex, V1),
         V1 = ifelse(grepl("\\\\#tab", V1), gsub("\\\\#", "", V1), V1)) %>% 
  filter(!grepl("Note:", V1))


j <- j %>% 
  mutate(V1 = gsub("dollarsign", "\\\\$", V1)) %>% 
  arrange(n) %>% 
  select(-n)

write.table(j, "./temp/triple_diff.tex", quote = F, col.names = F,
            row.names = F)
```
\input{"../temp/triple_diff.tex"}
\end{singlespace}


\newpage
# References {-}